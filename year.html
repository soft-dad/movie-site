<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¹´åº¦æ€»ç»“ - é¾™è…¾ç”µå½±</title>
    <link rel="stylesheet" href="./css/reset.css">
    <link rel="stylesheet" href="./css/common.css">
    <link rel="stylesheet" href="./css/index.css">
    <style>
        body{background:#f5f7fa;padding-top:100px}
        .year-wrap{max-width:1000px;margin:0 auto;background:#fff;border-radius:12px;box-shadow:0 4px 18px rgba(0,0,0,.08);padding:40px 50px}
        .year-wrap h2{color:#042A8F;margin-bottom:25px;font-size:24px}
        /* ä»Šæ—¥ç¥¨æˆ¿æ¦œ */
        .today-box{border:1px solid #e5e5e5;border-radius:8px;padding:25px 30px;margin-bottom:30px}
        .today-box h3{font-size:18px;color:#333;margin-bottom:20px}
        .today-list{display:flex;flex-direction:column;gap:10px}
        .today-item{display:flex;align-items:center;padding:8px 0;border-bottom:1px dashed #e5e5e5}
        .today-item:last-child{border:none}
        .today-item .rank{font-weight:700;font-size:16px;color:#ffb400;width:30px;text-align:center}
        .today-item .rank.top3{color:#f03d37}
        .today-item .name{flex:1;font-size:15px;color:#333}
        .today-item .money{font-size:14px;color:#f03d37;font-weight:700}
        /* å¹´åº¦æ€»ç¥¨æˆ¿ + å€’è®¡æ—¶ */
        .year-box{border:1px solid #e5e5e5;border-radius:8px;padding:30px;text-align:center}
        .year-box .txt{font-size:14px;color:#666}
        .year-box .num{font-size:36px;color:#042A8F;margin:10px 0}
        .year-box .time{font-size:20px;color:#f03d37;font-weight:700}
        .footer{margin-top:60px}
    </style>
</head>

<body class="day">

<!-- éŸ³é¢‘ -->
<audio id="backgroundMusic" loop><source src="music/background_music.mp3" type="audio/mpeg"></audio>
<audio id="clickSound" preload="auto"><source src="music/click.mp3" type="audio/mpeg"></audio>
<button id="musicToggle" style="position:fixed;top:100px;right:20px;z-index:1000;padding:10px;cursor:pointer;background:rgba(0,0,0,.5);color:#fff;border:none;border-radius:5px;">ğŸ”Š æ’­æ”¾éŸ³ä¹</button>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        const music = document.getElementById('backgroundMusic');
        const toggleButton = document.getElementById('musicToggle');
        const clickSound = document.getElementById('clickSound');
        const SOUND_MIN_DURATION = 200;

        // ç®€åŒ–çš„éŸ³é¢‘æ£€æŸ¥å‡½æ•°
        function checkAudioAvailability() {
            // æ£€æŸ¥èƒŒæ™¯éŸ³ä¹
            if (music.error) {
                console.error('èƒŒæ™¯éŸ³ä¹é”™è¯¯:', music.error);
                toggleButton.textContent = 'ğŸ”Š éŸ³ä¹æ–‡ä»¶é”™è¯¯';
            }

            // æ£€æŸ¥ç‚¹å‡»éŸ³æ•ˆ
            if (clickSound.error) {
                console.error('ç‚¹å‡»éŸ³æ•ˆé”™è¯¯:', clickSound.error);
            }
        }

        // æ’­æ”¾ç‚¹å‡»éŸ³æ•ˆçš„ç®€åŒ–ç‰ˆæœ¬
        function playClickSound() {
            return new Promise(resolve => {
                // æ— è®ºå¦‚ä½•éƒ½åœ¨æœ€çŸ­æ—¶é—´åresolveï¼Œç¡®ä¿äº¤äº’ä¸å¡é¡¿
                setTimeout(resolve, SOUND_MIN_DURATION);

                // å°è¯•æ’­æ”¾éŸ³æ•ˆ
                if (clickSound && clickSound.readyState >= 2) {
                    clickSound.currentTime = 0;
                    clickSound.play().catch(e => console.log('éŸ³æ•ˆæ’­æ”¾å¤±è´¥:', e));
                }
            });
        }

        // èƒŒæ™¯éŸ³ä¹æ§åˆ¶
        toggleButton.addEventListener('click', function() {
            // å…ˆæ’­æ”¾ç‚¹å‡»éŸ³æ•ˆï¼Œå†åˆ‡æ¢èƒŒæ™¯éŸ³ä¹çŠ¶æ€
            playClickSound().then(() => {
                if (music.paused) {
                    music.play()
                        .then(() => toggleButton.textContent = 'ğŸ”‡ å…³é—­éŸ³ä¹')
                        .catch(e => {
                            console.log('éŸ³ä¹æ’­æ”¾å¤±è´¥:', e);
                            alert('éŸ³ä¹æ’­æ”¾å¤±è´¥ï¼Œè¯·æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨');
                        });
                } else {
                    music.pause();
                    toggleButton.textContent = 'ğŸ”Š æ’­æ”¾éŸ³ä¹';
                }
            });
        });

        // ä¸ºæ‰€æœ‰å¯ç‚¹å‡»å…ƒç´ æ·»åŠ éŸ³æ•ˆ
        document.querySelectorAll('a, button, input[type="button"], input[type="submit"]').forEach(element => {
            // æ’é™¤éŸ³ä¹æŒ‰é’®ï¼Œå› ä¸ºå·²ç»å•ç‹¬å¤„ç†
            if (element.id !== 'musicToggle') {
                element.addEventListener('click', function(e) {
                    // å¯¹é“¾æ¥ç‰¹æ®Šå¤„ç†ï¼Œé˜²æ­¢ç«‹å³è·³è½¬
                    if (this.tagName === 'A' && this.href && !this.href.includes('#')) {
                        e.preventDefault();
                        const href = this.href;
                        const target = this.target;

                        playClickSound().then(() => {
                            if (target === '_blank') {
                                window.open(href, '_blank');
                            } else {
                                window.location.href = href;
                            }
                        });
                    } else {
                        // æ™®é€šæŒ‰é’®åªæ’­æ”¾éŸ³æ•ˆ
                        playClickSound();
                    }
                });
            }
        });

        // åˆå§‹åŒ–ä¸‹æ‹‰èœå•ï¼ˆä¿ç•™åŸæœ‰åŠŸèƒ½ï¼‰
        function initDropdownMenus() {
            const dropdowns = document.querySelectorAll('.dropdown');

            dropdowns.forEach(dropdown => {
                const dropbtn = dropdown.querySelector('.dropbtn');
                const dropdownContent = dropdown.querySelector('.dropdown-content');

                if (dropbtn && dropdownContent) {
                    const dropdownItems = dropdownContent.querySelectorAll('a');
                    dropdownItems.forEach(item => {
                        item.addEventListener('click', function(e) {
                            e.stopPropagation();
                            const href = this.getAttribute('href');
                            playClickSound().then(() => {
                                window.location.href = href;
                            });
                        });
                    });

                    if (window.innerWidth < 768) {
                        dropbtn.addEventListener('click', function(e) {
                            e.preventDefault();
                            dropdownContent.style.display = dropdownContent.style.display === 'block' ? 'none' : 'block';
                        });
                    }

                    document.addEventListener('click', function(e) {
                        if (!dropdown.contains(e.target)) {
                            dropdownContent.style.display = 'none';
                        }
                    });
                }
            });
        }

        // æœç´¢æŒ‰é’®å¤„ç†
        const searchSubmit = document.querySelector('.serch-form .submit');
        if (searchSubmit) {
            searchSubmit.addEventListener('click', function(e) {
                const input = document.querySelector('.serch-form .search');
                if (!input.value.trim()) {
                    e.preventDefault();
                    alert('è¯·è¾“å…¥æœç´¢å†…å®¹');
                }
            });
        }

        // åˆ‡æ¢èƒŒæ™¯æŒ‰é’®å¤„ç†
        const changeBgBtn = document.querySelector('#tool .c4');
        if (changeBgBtn) {
            changeBgBtn.addEventListener('click', function() {
                playClickSound().then(() => {
                    if (typeof changeBg === 'function') {
                        changeBg();
                    } else {
                        document.body.classList.toggle('day');
                        document.body.classList.toggle('night');
                    }
                });
            });
        }

        // åˆå§‹åŒ–
        checkAudioAvailability();
        initDropdownMenus();
    });
    document.addEventListener('DOMContentLoaded', function () {
        const tabs = document.querySelectorAll('.tab');
        const contents = document.querySelectorAll('.tab-content');

        tabs.forEach(tab => {
            tab.addEventListener('click', function (e) {
                e.preventDefault(); // é˜»æ­¢é»˜è®¤è·³è½¬

                const target = this.dataset.target;

                // åˆ‡æ¢æ ‡ç­¾æ ·å¼
                tabs.forEach(t => t.classList.remove('active'));
                this.classList.add('active');

                // åˆ‡æ¢å†…å®¹æ˜¾ç¤º
                contents.forEach(c => c.classList.remove('active'));
                const targetContent = document.getElementById(target);
                if (targetContent) {
                    targetContent.classList.add('active');
                }
            });
        });
    });
</script>

<!-- å¤´éƒ¨å¯¼èˆª -->
<nav class="header">
    <div class="contain">
        <a href="./index.html" class="logo"></a>
        <ul>
            <li><a href="./index.html">é¦–é¡µ</a></li>
            <li class="dropdown movie-dropdown">
                <a href="./movie.html" class="dropbtn">ç”µå½±</a>
                <div class="dropdown-content">
                    <a href="./category_Action.html">åŠ¨ä½œç‰‡</a>
                    <a href="./category_Comedy.html">å–œå‰§ç‰‡</a>
                    <a href="./category_Romance.html">çˆ±æƒ…ç‰‡</a>
                    <a href="./category_Sci-fic.html">ç§‘å¹»ç‰‡</a>
                </div>
            </li>
            <li><a href="./cinema.html">å½±é™¢</a></li>
            <li class="dropdown">
                <a href="./liuyan.html" class="dropbtn">åé¦ˆ</a>
                <div class="dropdown-content">
                    <a href="./liuyan_tel.html">ç”µè¯å®¢æœ</a>
                    <a href="./liuyan.html">ç³»ç»Ÿç•™è¨€</a>
                    <a href="./liuyan_feedback.html">æ„è§åé¦ˆ</a>
                    <a href="./liuyan_about.html">å…³äºæˆ‘ä»¬</a>
                </div>
            </li>
            <li><a href="./mall.html">å•†åŸ</a></li>
        </ul>
        <div class="userinfo">
            <img src="./img/userifo.png" alt="ç”¨æˆ·">
            <a href="./login.html" style="margin-left: 20px;">ç™»å½•</a>
        </div>
        <form action="#" class="serch-form" method="POST">
            <input type="search" class="search" placeholder="æ‰¾å½±è§†å‰§ å½±äºº å½±é™¢">
            <input type="submit" class="submit" value="">
        </form>
        <div class="appdownload">
            <a href="#">
                <span class="iphone-icon"></span>
                <span class="apptext">appä¸‹è½½</span>
                <span class="caret"></span>
                <div class="downloadicon">
                    <p class="down-title">æ‰«ç ä¸‹è½½app</p>
                    <p class="down-content">é€‰åº§æ›´ä¼˜æƒ </p>
                </div>
            </a>
        </div>
    </div>
</nav>

<!-- å¹´åº¦æ€»ç»“ä¸»ä½“ -->
<div class="year-wrap">
    <h2>2025 å¹´åº¦æ€»ç»“</h2>

    <!-- ä»Šæ—¥ç¥¨æˆ¿æ¦œï¼ˆå¤åˆ»å›¾ç‰‡æ ·å¼ï¼‰ -->
    <div class="today-box">
        <h3>ä»Šæ—¥ç¥¨æˆ¿ TOP 10</h3>
        <div class="today-list" id="todayList"></div>
    </div>

    <!-- å¹´åº¦æ€»ç¥¨æˆ¿ + å€’è®¡æ—¶ -->
    <div class="year-box">
        <div class="txt">å¹´åº¦æ€»ç¥¨æˆ¿</div>
        <div class="num">1.40äº¿</div>
        <div class="txt">è·ç¦»å¹´ç»ˆè¿˜æœ‰</div>
        <div class="time" id="countdown">å€’è®¡æ—¶ï¼šåŠ è½½ä¸­...</div>
        <div class="txt">ä¸“ä¸šç‰ˆå®æ—¶ç¥¨æˆ¿æ•°æ®</div>
    </div>
</div>

<!-- åº•éƒ¨ -->
<div class="footer">
    <p>å•†åŠ¡åˆä½œé‚®ç®±ï¼šv@longteng.com å®¢æœç”µè¯ï¼š10105335 è¿æ³•å’Œä¸è‰¯ä¿¡æ¯ä¸¾æŠ¥ç”µè¯ï¼š4006019900 </p>
    <p>ç”¨æˆ·æŠ•è¯‰é‚®ç®±ï¼štousujubao@meituan.com èˆå¼Šçº¿ç´¢ä¸¾æŠ¥é‚®ç®±ï¼šwubijubao@longteng.com </p>
    <p><a>ä¸­åäººæ°‘å…±å’Œå›½å¢å€¼ç”µä¿¡ä¸šåŠ¡ç»è¥è®¸å¯è¯ äº¬B2-20190350 </a><span>|</span><a> è¥ä¸šæ€§æ¼”å‡ºè®¸å¯è¯ äº¬æ¼”ï¼ˆæœºæ„ï¼‰ï¼ˆ2024ï¼‰4094å·</a></p>
    <p><a>å¹¿æ’­ç”µè§†èŠ‚ç›®åˆ¶ä½œç»è¥è®¸å¯è¯ ï¼ˆäº¬ï¼‰å­—ç¬¬08478å· </a><span>|</span><a> ç½‘ç»œæ–‡åŒ–ç»è¥è®¸å¯è¯ äº¬ç½‘æ–‡ï¼ˆ2024ï¼‰3837-369å·</a></p>
    <p><a>ç”¨æˆ·æœåŠ¡åè®® </a><span>|</span><a> å¹³å°äº¤æ˜“è§„åˆ™æ€»åˆ™</a><span>|</span><a>éšç§æ”¿ç­–</a></p>
    <p><a>äº¬å…¬ç½‘å®‰å¤‡ 11010102003232å·</a></p>
    <p>Â©2024 ç”µå½± longteng.com</p>
    <p class="last">
        <a><img src="./img/network.png" alt=""></a>
        <a><img src="./img/license.png" alt=""></a>
    </p>
</div>

<script>
/* ===== ä»Šæ—¥ç¥¨æˆ¿æ•°æ®ï¼ˆæ¥è‡ªå›¾ç‰‡ï¼‰ ===== */
const todayData = [
  { rank: 1, name: 'å†°é›ªå¥‡ç¼˜2', money: '8473.65ä¸‡' },
  { rank: 2, name: 'å¤§çº¦åœ¨å†¬å­£', money: '426.20ä¸‡' },
  { rank: 3, name: 'æµ·ä¸Šé’¢ç´å¸ˆ', money: '430.02ä¸‡' },
  { rank: 4, name: 'ä½ æ˜¯å‡¶æ‰‹', money: '389.35ä¸‡' },
  { rank: 5, name: 'å°‘å¹´çš„ä½ ', money: '355.86ä¸‡' },
  { rank: 6, name: 'å†³æˆ˜ä¸­é€”å²›', money: '335.19ä¸‡' },
  { rank: 7, name: 'è§¦ä¸å¯åŠ', money: '197.75ä¸‡' },
  { rank: 8, name: 'æˆ‘å’Œæˆ‘çš„ç¥–å›½', money: '126.51ä¸‡' },
  { rank: 9, name: 'å—ç›Šäºº', money: '108.84ä¸‡' },
  { rank: 10, name: 'å¤©æ°”ä¹‹å­', money: '103.01ä¸‡' }
];

/* æ¸²æŸ“ä»Šæ—¥ç¥¨æˆ¿æ¦œ */
function renderToday() {
  const box = document.getElementById('todayList');
  todayData.forEach((m) => {
    const item = document.createElement('div');
    item.className = 'today-item';
    const topCls = m.rank <= 3 ? 'top3' : '';
    item.innerHTML = `
      <div class="rank ${topCls}">${m.rank}</div>
      <div class="name">${m.name}</div>
      <div class="money">${m.money}</div>
    `;
    box.appendChild(item);
  });
}

/* å¹´ç»ˆå€’è®¡æ—¶å¤ç”¨é¦–é¡µé€»è¾‘ */
function updateCountdown() {
  const end = new Date(new Date().getFullYear(), 11, 31, 23, 59, 59);
  const diff = end - new Date();
  if (diff <= 0) return document.getElementById('countdown').textContent = 'å·²è·¨å¹´';
  const h = String(Math.floor(diff / 3.6e6)).padStart(2, '0');
  const m = String(Math.floor((diff % 3.6e6) / 6e4)).padStart(2, '0');
  const s = String(Math.floor((diff % 6e4) / 1e3)).padStart(2, '0');
  document.getElementById('countdown').textContent = `å€’è®¡æ—¶ï¼š${h}:${m}:${s}`;
}
setInterval(updateCountdown, 1000);
updateCountdown();

/* é¡µé¢åŠ è½½åæ¸²æŸ“æ¦œå• */
document.addEventListener('DOMContentLoaded', renderToday);
</script>
</body>
</html>